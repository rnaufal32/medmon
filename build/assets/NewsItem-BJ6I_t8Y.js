import{K as S,j as e,S as v,p as B}from"./app-B-RYIvRY.js";import{I as n,y as w,l as k}from"./index-DPa05w-1.js";import{d as F}from"./dayjs.min-DSCsCH81.js";import{u as I}from"./index.es-DY2R93iy.js";import{I as l}from"./Input-hhpOWbwY.js";import{S as z}from"./index.esm-C_MpZT6u.js";import{M as i}from"./Swal-B1RmtheR.js";function E(N){var d,c,u,m,x,h,g,p,b,f,j,y;const s=N.item,r=I({...s,target_id:{label:`${(u=(c=(d=s.user_targets[0])==null?void 0:d.user_target)==null?void 0:c.user)==null?void 0:u.name} - ${(x=(m=s.user_targets[0])==null?void 0:m.user_target)==null?void 0:x.name}`,value:(g=(h=s.user_targets[0])==null?void 0:h.user_target)==null?void 0:g.id,isSelected:!0}}),{props:C}=S(),_=C.user_targets.map(t=>({label:`${t.username} - ${t.name}`,value:t.id})),$=()=>{v.post(route("news.store"),{id:s.id,...r.get()},{onSuccess:({props:t})=>{var a,o;(a=t.flash)!=null&&a.error&&w(t.flash.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:k,type:"error"}),(o=t.flash)!=null&&o.success&&(B.HSOverlay.close(`#media-detail-${s.id}-${s.target_id}`),w(t.flash.success,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:k,type:"success"}))}})};return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800",children:((f=(b=(p=s.user_targets[0])==null?void 0:p.user_target)==null?void 0:b.user)==null?void 0:f.name)??""}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 max-w-[100px]",children:((y=(j=s.user_targets[0])==null?void 0:j.user_target)==null?void 0:y.name)??""}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800",children:e.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[e.jsx("p",{className:"line-clamp-2 font-bold",children:s.title}),e.jsxs("div",{className:"flex flex-row gap-6 text-xs",children:[e.jsx("p",{className:"",children:s.source}),e.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[e.jsx(n,{icon:"solar:calendar-broken"}),e.jsx("p",{children:s.date})]}),e.jsx("p",{className:"",children:s.journalist})]}),e.jsx("p",{className:"text-sm line-clamp-2",children:s.content})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 flex flex-row gap-2",children:[e.jsx("a",{href:s.url,target:"_blank",className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-gray-500 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(n,{icon:"fluent:open-12-regular",width:20,height:20})}),e.jsx("button",{"aria-controls":`media-detail-${s.id}-${s.target_id}`,"data-hs-overlay":`#media-detail-${s.id}-${s.target_id}`,className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-gray-500 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(n,{icon:"solar:document-broken",width:20,height:20})}),e.jsx("button",{onClick:()=>{i.fire({title:"Are you sure?",text:`Delete ${s.title}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",confirmButtonColor:"danger"}).then(t=>{console.log(t),t.isConfirmed&&(i.fire({title:"Deleting",didOpen:a=>{i.showLoading()}}),v.delete(route("news.delete",{id:s.id}),{onSuccess:({props:a})=>{var o;(o=a.flash)!=null&&o.success&&i.fire({title:a.flash.success,icon:"success"})}}))})},className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-red-500 text-white hover:bg-red-700 focus:outline-none focus:bg-red-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(n,{icon:"solar:trash-bin-2-broken",width:20,height:20})}),e.jsx("div",{id:`media-detail-${s.id}-${s.target_id}`,className:"hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none",role:"dialog",tabIndex:-1,"aria-labelledby":"hs-large-modal-label",children:e.jsx("div",{className:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all lg:max-w-4xl lg:w-full m-3 lg:mx-auto",children:e.jsxs("div",{className:"flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto dark:bg-neutral-800 dark:border-neutral-700 dark:shadow-neutral-700/70",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 px-4 border-b dark:border-neutral-700",children:[e.jsx("h3",{id:"hs-large-modal-label",className:"font-bold text-gray-800 dark:text-white",children:"Detail News"}),e.jsxs("button",{type:"button",className:"size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600","aria-label":"Close","data-hs-overlay":`#media-detail-${s.id}-${s.target_id}`,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsxs("svg",{className:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})]})]}),e.jsx("div",{className:"p-4 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(l,{type:"text",onChange:t=>r.title.set(t),placeholder:"Title",value:r.title.get()})]}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Date"}),e.jsx(l,{type:"date",onChange:t=>r.date.set(t),placeholder:"Title",value:F(r.date.get()).format("YYYY-MM-DD")})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"User Target"}),e.jsx(z,{primaryColor:"#2563EB",value:r.target_id.get(),isSearchable:!0,onChange:t=>{t&&r.target_id.set(t)},options:_})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Journalist"}),e.jsx(l,{type:"text",onChange:t=>r.journalist.set(t),placeholder:"Journalist",value:r.journalist.get()})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Spookerperson"}),e.jsx(l,{type:"text",onChange:t=>r.spookerperson.set(t),placeholder:"Spookerperson",value:r.spookerperson.get()})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"URL"}),e.jsx(l,{type:"url",onChange:t=>r.url.set(t),placeholder:"URL",value:r.url.get()})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Images"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(l,{type:"text",onChange:t=>r.images.set(t),placeholder:"Images",value:r.images.get()}),e.jsx("div",{children:e.jsx(n,{icon:"mynaui:image-solid",width:35,height:35})})]})]}),e.jsx("hr",{}),e.jsx("textarea",{className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",rows:5,placeholder:"This is a textarea placeholder",value:r.content.get(),onChange:t=>r.content.set(t.target.value)})]})}),e.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t dark:border-neutral-700",children:[e.jsx("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700","data-hs-overlay":`#media-detail-${s.id}-${s.target_id}`,children:"Close"}),e.jsx("button",{type:"button",onClick:$,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:"Save changes"})]})]})})})]})]})}export{E as default};
