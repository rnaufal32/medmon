import{K as U,j as e,S as c,p as P}from"./app-BCi72HwG.js";import{I as d,y as I,l as O}from"./index-B4TiAaRi.js";import{d as u}from"./dayjs.min-VIi3ypAF.js";import{u as V}from"./index.es-C0714uSK.js";import{I as a}from"./Input-CqxUXQay.js";import{S as z}from"./index.esm-BY2t7LtF.js";import{M as o}from"./Swal-DoTsxdcA.js";function X(r){var m,x,h,g,b,p,f,j,v,y,w,N,k,_,C,$,F,S,T,Y,B,D,M;const t=r.item,l=V({...t,target_id:{label:`${(h=(x=(m=t.user_targets[0])==null?void 0:m.user_target)==null?void 0:x.user)==null?void 0:h.name} - ${(b=(g=t.user_targets[0])==null?void 0:g.user_target)==null?void 0:b.name}`,value:(f=(p=t.user_targets[0])==null?void 0:p.user_target)==null?void 0:f.id,isSelected:!0}}),{props:L}=U(),E=L.user_targets.map(s=>({label:`${s.username} - ${s.name}`,value:s.id})),R=()=>{c.post(route("news.store"),{id:t.id,...l.get()},{onSuccess:({props:s})=>{var n,i;(n=s.flash)!=null&&n.error&&I(s.flash.error,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:O,type:"error"}),(i=s.flash)!=null&&i.success&&(P.HSOverlay.close(`#media-detail-${t.id}-${t.target_id}`),I(s.flash.success,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:O,type:"success"}))}})};return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800",children:((y=(v=(j=t.user_targets[0])==null?void 0:j.user_target)==null?void 0:v.user)==null?void 0:y.name)??""}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 max-w-[100px]",children:((N=(w=t.user_targets[0])==null?void 0:w.user_target)==null?void 0:N.name)??""}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800",children:e.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[e.jsx("p",{className:"line-clamp-2 font-bold",children:t.title}),e.jsxs("div",{className:"flex flex-row gap-6 text-xs",children:[e.jsx("p",{className:"",children:t.source}),e.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[e.jsx(d,{icon:"solar:calendar-broken"}),e.jsx("p",{children:t.date})]}),e.jsx("p",{className:"",children:t.journalist})]}),e.jsx("p",{className:"text-sm line-clamp-2",children:t.content})]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 w-[200px]",children:u(t.created_at).format("DD MMM YYYY HH:mm:ss")}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 w-[200px]",children:u(t.updated_at).format("DD MMM YYYY HH:mm:ss")}),e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-800 flex flex-row gap-2",children:[e.jsx("a",{href:t.url,target:"_blank",className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-gray-500 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(d,{icon:"fluent:open-12-regular",width:20,height:20})}),e.jsx("button",{"aria-controls":`media-detail-${t.id}-${(_=(k=t.user_targets[0])==null?void 0:k.user_target)==null?void 0:_.id}`,"data-hs-overlay":`#media-detail-${t.id}-${($=(C=t.user_targets[0])==null?void 0:C.user_target)==null?void 0:$.id}`,className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-gray-500 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(d,{icon:"solar:document-broken",width:20,height:20})}),e.jsx("button",{onClick:()=>{o.fire({title:"Are you sure?",text:`Delete ${t.title}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",confirmButtonColor:"danger"}).then(s=>{console.log(s),s.isConfirmed&&(o.fire({title:"Deleting",didOpen:n=>{o.showLoading()}}),c.delete(route("news.delete",{id:t.id}),{onSuccess:({props:n})=>{var i;(i=n.flash)!=null&&i.success&&o.fire({title:n.flash.success,icon:"success"})}}))})},className:"flex shrink-0 justify-center items-center size-[30px] text-sm font-medium rounded-lg border border-transparent bg-red-500 text-white hover:bg-red-700 focus:outline-none focus:bg-red-700 disabled:opacity-50 disabled:pointer-events-none",children:e.jsx(d,{icon:"solar:trash-bin-2-broken",width:20,height:20})}),e.jsx("div",{id:`media-detail-${t.id}-${(S=(F=t.user_targets[0])==null?void 0:F.user_target)==null?void 0:S.id}`,className:"hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none",role:"dialog",tabIndex:-1,"aria-labelledby":"hs-large-modal-label",children:e.jsx("div",{className:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all lg:max-w-4xl lg:w-full m-3 lg:mx-auto",children:e.jsxs("div",{className:"flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto dark:bg-neutral-800 dark:border-neutral-700 dark:shadow-neutral-700/70",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 px-4 border-b dark:border-neutral-700",children:[e.jsx("h3",{id:"hs-large-modal-label",className:"font-bold text-gray-800 dark:text-white",children:"Detail News"}),e.jsxs("button",{type:"button",className:"size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600","aria-label":"Close","data-hs-overlay":`#media-detail-${t.id}-${(Y=(T=t.user_targets[0])==null?void 0:T.user_target)==null?void 0:Y.id}`,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsxs("svg",{className:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})]})]}),e.jsx("div",{className:"p-4 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(a,{type:"text",onChange:s=>l.title.set(s),placeholder:"Title",value:l.title.get()})]}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Date"}),e.jsx(a,{type:"date",onChange:s=>l.date.set(s),placeholder:"Title",value:u(l.date.get()).format("YYYY-MM-DD")})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"User Target"}),e.jsx(z,{primaryColor:"#2563EB",value:l.target_id.get(),isSearchable:!0,onChange:s=>{s&&l.target_id.set(s)},options:E})]})]}),e.jsx("hr",{}),r.item.news_sources!=null&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Source"}),e.jsx(a,{type:"text",onChange:s=>{},value:((B=r.item.news_source)==null?void 0:B.site)??"",disabled:!0})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Tier"}),e.jsx(z,{primaryColor:"#2563EB",value:{label:`Tier ${((D=r.item.news_source)==null?void 0:D.tier)??3}`,value:`${((M=r.item.news_source)==null?void 0:M.tier)??3}`},onChange:s=>{o.fire({title:"Change tier source?",text:"This change will affected to all news with same site. Can't be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, change it!",cancelButtonText:"No, cancel!",confirmButtonColor:"danger"}).then(n=>{n.isConfirmed&&(o.fire({title:"Updating",didOpen:i=>{o.showLoading()}}),c.post(route("source.news.store"),{id:r.item.news_source.id,tier:s.value},{onSuccess:({props:i})=>{var H;(H=i.flash)!=null&&H.success&&o.fire({title:i.flash.success,icon:"success"})}}))})},options:[{label:"Tier 1",value:"1"},{label:"Tier 2",value:"2"},{label:"Tier 3",value:"3"}]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"AD Value"}),e.jsx(a,{type:"number",onChange:s=>{},disabled:!0,value:r.item.news_source.user_value.ad})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"PR Value"}),e.jsx(a,{type:"number",onChange:s=>{},disabled:!0,value:r.item.news_source.user_value.pr})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Viewership"}),e.jsx(a,{type:"number",onChange:s=>{},disabled:!0,value:r.item.news_source.viewership})]})]}),e.jsx("hr",{})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Journalist"}),e.jsx(a,{type:"text",onChange:s=>l.journalist.set(s),placeholder:"Journalist",value:l.journalist.get()})]}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Spookerperson"}),e.jsx(a,{type:"text",onChange:s=>l.spookerperson.set(s),placeholder:"Spookerperson",value:l.spookerperson.get()})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"URL"}),e.jsx(a,{type:"url",onChange:s=>l.url.set(s),placeholder:"URL",value:l.url.get()})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Images"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(a,{type:"text",onChange:s=>l.images.set(s),placeholder:"Images",value:l.images.get()}),e.jsx("div",{children:e.jsx(d,{icon:"mynaui:image-solid",width:35,height:35})})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Content"}),e.jsx("div",{className:"flex flex-row gap-2",children:e.jsx("textarea",{className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",rows:5,placeholder:"This is a textarea placeholder",value:l.content.get(),onChange:s=>l.content.set(s.target.value)})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"max-w-full",children:[e.jsx("label",{htmlFor:"input-label",className:"block text-sm font-medium mb-2",children:"Summary"}),e.jsx("div",{className:"flex flex-row gap-2",children:e.jsx("textarea",{className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600",rows:5,placeholder:"This is a textarea placeholder",value:l.summary.get(),onChange:s=>l.summary.set(s.target.value)})})]})]})}),e.jsxs("div",{className:"flex justify-end items-center gap-x-2 py-3 px-4 border-t dark:border-neutral-700",children:[e.jsx("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700","data-hs-overlay":`#media-detail-${t.id}-${t.target_id}`,children:"Close"}),e.jsx("button",{type:"button",onClick:R,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none",children:"Save changes"})]})]})})})]})]})}export{X as default};
