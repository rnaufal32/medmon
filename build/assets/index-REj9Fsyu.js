import{K as B,C as b,r as a,R as C,c as I,B as L,P as T}from"./app-BJXkbHIm.js";const M=e=>{const{props:{auth:{permissions:t,roles:s}}}=B();return s.includes(e)||t.includes(e)},y="label";function m(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function j(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function E(e,t){e.labels=t}function R(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;const o=[];e.datasets=t.map(r=>{const c=e.datasets.find(f=>f[s]===r[s]);return!c||!r.data||o.includes(c)?{...r}:(o.push(c),Object.assign(c,r),c)})}function v(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;const s={labels:[],datasets:[]};return E(s,e.labels),R(s,e.datasets,t),s}function D(e,t){const{height:s=150,width:o=300,redraw:r=!1,datasetIdKey:c,type:f,data:u,options:i,plugins:w=[],fallbackContent:P,updateMode:g,...K}=e,l=a.useRef(null),n=a.useRef(null),d=()=>{l.current&&(n.current=new b(l.current,{type:f,data:v(u,c),options:i&&{...i},plugins:w}),m(t,n.current))},p=()=>{m(t,null),n.current&&(n.current.destroy(),n.current=null)};return a.useEffect(()=>{!r&&n.current&&i&&j(n.current,i)},[r,i]),a.useEffect(()=>{!r&&n.current&&E(n.current.config.data,u.labels)},[r,u.labels]),a.useEffect(()=>{!r&&n.current&&u.datasets&&R(n.current.config.data,u.datasets,c)},[r,u.datasets]),a.useEffect(()=>{n.current&&(r?(p(),setTimeout(d)):n.current.update(g))},[r,i,u.labels,u.datasets,g]),a.useEffect(()=>{n.current&&(p(),setTimeout(d))},[f]),a.useEffect(()=>(d(),()=>p()),[]),C.createElement("canvas",{ref:l,role:"img",height:s,width:o,...K},P)}const O=a.forwardRef(D);function h(e,t){return b.register(t),a.forwardRef((s,o)=>C.createElement(O,{...s,ref:o,type:e}))}const $=h("line",I),q=h("bar",L),z=h("pie",T);export{q as B,$ as L,z as P,M as h};
